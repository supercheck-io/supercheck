---
title: API Test
description: HTTP and GraphQL endpoint testing
icon: ArrowLeftRight
---

Validate REST APIs and GraphQL endpoints with HTTP requests and response assertions.

## Example

```typescript
const response = await fetch('https://api.example.com/users', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${getSecret('API_TOKEN')}`
  }
});

expect(response.status).toBe(200);
const data = await response.json();
expect(data.users).toBeInstanceOf(Array);
```

## Create Test

1. Go to **Create â†’ API Test**
2. Write your test script
3. Click **Run** to validate
4. **Save** when passing

## HTTP Methods

```typescript
// GET
const response = await fetch('https://api.example.com/users');

// POST
const response = await fetch('https://api.example.com/users', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: 'John' })
});

// PUT, DELETE, PATCH work the same way
```

## Assertions

```typescript
// Status code
expect(response.status).toBe(200);

// JSON body
const data = await response.json();
expect(data.id).toBeDefined();
expect(data.name).toBe('John');

// Headers
expect(response.headers.get('content-type')).toContain('json');
```

## Using Variables

```typescript
const baseUrl = getVariable('API_BASE_URL');
const apiKey = getSecret('API_KEY');

const response = await fetch(`${baseUrl}/users`, {
  headers: { 'Authorization': `Bearer ${apiKey}` }
});
```

## Tips

- Use `getSecret()` for API keys (auto-redacted in logs)
- Set appropriate timeouts for slow endpoints
- Validate response structure, not just status codes
